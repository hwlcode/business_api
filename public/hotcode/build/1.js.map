{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n    declarations: [\n        HomePage,\n    ],\n    imports: [\n        IonicPageModule.forChild(HomePage),\n    ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import {Component, OnInit} from '@angular/core';\nimport {IonicPage, ModalController, NavController} from 'ionic-angular';\nimport {ProductsPage} from \"../products/products\";\n// import {BannerService} from \"../../service/banner.service\";\nimport {ProductService} from \"../../service/product.service\";\nimport {CoreService} from \"../../service/core.service\";\nimport {ProfilePage} from \"../profile/profile\";\n\n@IonicPage()\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit {\n    public banners;\n    public products;\n    public keywords: string;\n    public last: boolean = false;\n    public infiniteScroll: any;\n\n    constructor(private navCtrl: NavController,\n                // private bannerService: BannerService,\n                private coreService: CoreService,\n                private modalCtrl: ModalController,\n                private productService: ProductService) {\n\n    }\n\n    ngOnInit() {\n        // this.getBanners();\n        this.getProduct('', 1);\n    }\n\n    user() {\n        this.navCtrl.push(ProfilePage);\n    }\n\n    getItems(event) {\n        this.getProduct(this.keywords || '', 1);\n    }\n\n    doRefresh(refresher) {\n        this.productService.httpProductFilter({\n            keywords: '',\n            page: 1\n        }).subscribe(data => {\n            if (data.code == 0) {\n                this.products = data.data;\n                if(this.infiniteScroll){\n                    this.infiniteScroll.enable(true);\n                }\n                this.products.map(item => {\n                    item.image = this.coreService.domain + item.banner.path;\n                });\n                refresher.complete();\n            }\n        });\n    }\n\n    doInfinite(infiniteScroll) {\n        let page = 1;\n        page++;\n        this.infiniteScroll = infiniteScroll;\n        this.productService.httpProductFilter({\n            keywords: this.keywords || '',\n            page: page\n        }).subscribe(data => {\n            if (data.code == 0) {\n                this.last = data.isLast;\n                this.products = this.products.concat(data.data);\n                this.products.concat(data.data);\n                this.products.map(item => {\n                    item.image = this.coreService.domain + item.banner.path;\n                });\n\n                infiniteScroll.complete();\n\n                if (this.last) {\n                    infiniteScroll.enable(false);\n                }\n            }\n        });\n    }\n\n    // getBanners() {\n    //     this.bannerService.httpGetBanner().subscribe(data => {\n    //         if (data.code == 0) {\n    //             this.banners = data.data;\n    //             this.banners.map(item => {\n    //                 item.image = this.coreService.domain + item.banner.path;\n    //             })\n    //         }\n    //     });\n    // }\n\n    getProduct(keywords, page) {\n        this.productService.httpProductFilter({\n            keywords: keywords,\n            page: page\n        }).subscribe(data => {\n            if (data.code == 0) {\n                this.products = data.data;\n                this.products.map(item => {\n                    item.image = this.coreService.domain + item.banner.path;\n                });\n            }\n        });\n    }\n\n    goProduct() {\n        var modal = this.modalCtrl.create(ProductsPage);\n        modal.present();\n    }\n\n    goToShopping() {\n        this.navCtrl.parent.select(1);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}
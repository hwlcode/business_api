{"version":3,"sources":["../../src/pages/notification/notification.module.ts","../../src/pages/notification/notification.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NotificationPage } from './notification';\n\n@NgModule({\n  declarations: [\n    NotificationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NotificationPage),\n  ],\n})\nexport class NotificationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {NotificationService} from \"../../service/notification.service\";\nimport {Storage} from '@ionic/storage';\nimport {ProfilePage} from \"../profile/profile\";\n\n@IonicPage()\n@Component({\n    selector: 'page-notification',\n    templateUrl: 'notification.html',\n})\nexport class NotificationPage {\n    items: any;\n    userId: string;\n    showNotification: boolean = false;\n\n    noLogin: boolean = true;\n    logined: boolean = false;\n\n    constructor(public navCtrl: NavController,\n                public notificationService: NotificationService,\n                public storage: Storage,\n                public navParams: NavParams) {\n    }\n\n    ionViewDidEnter() {\n        this.storage.get('user').then(val => {\n            if (val != null) {\n                this.userId = val;\n\n                this.noLogin = false;\n                this.logined = true;\n\n                this.getNotification();\n            }\n        });\n    }\n\n    getNotification() {\n        this.notificationService.getUserNotificationList(this.userId).subscribe(res => {\n            if (res.code === 0) {\n                this.items = res.data;\n                if(res.data.length > 0){\n                    this.showNotification = true;\n                }\n            }\n        });\n    }\n\n    removeItem(item) {\n        this.notificationService.delUserNotification(item._id)\n            .subscribe(res => {\n                if (res.code === 0) {\n                    for (let i = 0; i < this.items.length; i++) {\n                        if (this.items[i] == item) {\n                            this.items.splice(i, 1);\n                        }\n                    }\n                }\n            });\n    }\n\n    readItem(item) {\n        this.notificationService.readUserNotification(item._id)\n            .subscribe(res => {\n                if (res.code === 0) {\n                    item.read = 1;\n                }\n            });\n    }\n\n    goToLogin() {\n        this.navCtrl.push(ProfilePage);\n    }\n\n    doRefresh(refresher) {\n        this.notificationService.getUserNotificationList(this.userId).subscribe(res => {\n            if (res.code === 0) {\n                this.items = res.data;\n                refresher.complete();\n            }\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.ts"],"sourceRoot":""}